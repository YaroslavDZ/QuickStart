"use strict";(self.webpackChunkMatech=self.webpackChunkMatech||[]).push([[464],{5464:(ue,X,h)=>{h.r(X),h.d(X,{UicomponentsModule:()=>ce});var N=h(8498),j=h(177),i=h(9417),M=h(2448),V=h(4912),Y=h(5509),J=h(467),x=h(9217),S=h(5756),d=h(5686),t=h(4438),B=h(1626);let _=(()=>{class e{constructor(a){this.http=a,this.getData=s=>this.http.get(this.createCompleteRoute(s,"")),this.create=(s,o)=>this.http.post(this.createCompleteRoute(s,""),o,this.generateHeaders()),this.createWithData=s=>this.http.post(this.createCompleteRoute(s,""),this.generateHeaders()),this.update=(s,o)=>this.http.put(this.createCompleteRoute(s,""),o,this.generateHeaders()),this.delete=s=>this.http.delete(this.createCompleteRoute(s,"")),this.createCompleteRoute=(s,o)=>`${o}/${s}`,this.generateHeaders=()=>({headers:new B.Lr({"Content-Type":"application/json"})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.KVO(B.Qq))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var E=h(5794),O=h(1413);let D=(()=>{class e{constructor(){this.refreshTab1=new O.B,this.refreshTab1$=this.refreshTab1.asObservable()}triggerRefreshTab1(){this.refreshTab1.next()}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var f=h(2524),F=h(5484),A=h(2920);let H=(()=>{class e{constructor(a,s){this.data=a,this.dialogRef=s}closeDialog(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(f.Vh),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-delete"]],decls:11,vars:3,consts:[[1,"app-popup"],[1,"app-popup-content","text-center"],[1,"mb-4"],["fxLayout","row","fxLayoutAlign","center center"],["mat-flat-button","","color","warn",1,"m-t-8","mr-2",3,"mat-dialog-close"],["fxFlex","10px"],["mat-flat-button","","color","primary",1,"m-t-8",3,"mat-dialog-close"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),t.EFF(4),t.k0s()(),t.j41(5,"div",3)(6,"button",4),t.EFF(7," No "),t.k0s(),t.nrm(8,"div",5),t.j41(9,"button",6),t.EFF(10," Yes "),t.k0s()()()()),2&s&&(t.R7$(4),t.JRh(o.data.message),t.R7$(2),t.Y8G("mat-dialog-close",!1),t.R7$(3),t.Y8G("mat-dialog-close",!0))},dependencies:[F.$z,f.tx,A.DJ,A.sA,A.UI],encapsulation:2})}return e})(),P=(()=>{class e{constructor(a,s){this.data=a,this.dialogRef=s}closeDialog(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(f.Vh),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-error"]],decls:8,vars:2,consts:[[1,"app-popup"],[1,"app-popup-content","text-center"],[1,"mb-4"],["src","../../../../assets/images/logos/cross.jpg","alt","Success Tick",1,"success-tick"],[1,"data-massage"],["mat-flat-button","","color","primary",1,"center-button","m-t-8",3,"mat-dialog-close"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"img",3),t.j41(4,"h4",4),t.EFF(5),t.k0s()(),t.j41(6,"button",5),t.EFF(7,"OK"),t.k0s()()()),2&s&&(t.R7$(5),t.JRh(o.data.message),t.R7$(),t.Y8G("mat-dialog-close",!0))},dependencies:[F.$z,f.tx],encapsulation:2})}return e})(),q=(()=>{class e{constructor(a,s){this.data=a,this.dialogRef=s}closeDialog(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(f.Vh),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-success"]],decls:8,vars:2,consts:[[1,"app-popup"],[1,"app-popup-content","text-center"],[1,"mb-4"],["src","../../../../assets/images/logos/success.jpg","alt","Success Tick",1,"success-tick"],["mat-flat-button","","color","primary",1,"center-button","m-t-8",3,"mat-dialog-close"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"img",3),t.j41(4,"h4"),t.EFF(5),t.k0s()(),t.j41(6,"button",4),t.EFF(7,"OK"),t.k0s()()()),2&s&&(t.R7$(5),t.JRh(o.data.message),t.R7$(),t.Y8G("mat-dialog-close",!0))},dependencies:[F.$z,f.tx],encapsulation:2})}return e})(),C=(()=>{class e{constructor(a){this.dialog=a}openSuccessDialog(a){return this.dialog.open(q,{width:"350px",height:"220px",panelClass:"success-dialog-container",disableClose:!0,position:{top:"200px"},data:{message:a}})}openErrorDialog(a){return this.dialog.open(P,{width:"400px",height:"270px",panelClass:"success-dialog-container",disableClose:!0,position:{top:"200px"},data:{message:a}})}openConfirmDialog(a){return this.dialog.open(H,{width:"300px",height:"150px",panelClass:"success-dialog-container",disableClose:!0,position:{top:"200px"},data:{message:a}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.KVO(f.bZ))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var y=h(1918),b=h(7421),U=h(2788),m=h(1818),k=h(9308);let z=(()=>{class e{constructor(a,s,o,r,u){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=r,this.Ref=u,this.validateControl=c=>this.dataForm?.get(c)?.invalid&&this.dataForm?.get(c)?.touched,this.hasError=(c,l)=>this.dataForm?.get(c)?.hasError(l),this.createData=c=>{this.dataForm.valid&&this.executeDataCreation(c)},this.executeDataCreation=c=>{let l={firstName:c.firstName,lastName:c.lastName,dateOfBirth:c.dateOfBirth,address:c.address,country:c.country};console.log(l),this.repoService.create("api/employees",l).subscribe(g=>{this.dialogserve.openSuccessDialog("The employee has been added successfully.").afterClosed().subscribe(v=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},g=>{this.toastr.error(g)})}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),dateOfBirth:new i.MJ(new Date),address:new i.MJ("",[i.k0.required,i.k0.maxLength(100)]),country:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])})}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(E.tw),t.rXU(D),t.rXU(C),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-employee"]],decls:33,vars:4,consts:[["picker",""],[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","placeholder","Choose a date of birth","formControlName","dateOfBirth","id","dateOfBirth","readonly","",3,"click","matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","address"],["matInput","","formControlName","country"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(s,o){if(1&s){const r=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Create employee"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.closeModal())}),t.j41(6,"mat-icon",5),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",6)(9,"form",7),t.bIt("ngSubmit",function(){return t.eBV(r),t.Njj(o.createData(o.dataForm.value))}),t.j41(10,"mat-form-field",8)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",9),t.k0s(),t.j41(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",10),t.k0s(),t.j41(18,"mat-form-field",8)(19,"input",11),t.bIt("click",function(){t.eBV(r);const c=t.sdS(22);return t.Njj(c.open())}),t.k0s(),t.nrm(20,"mat-datepicker-toggle",12)(21,"mat-datepicker",null,0),t.k0s(),t.j41(23,"mat-form-field",8)(24,"mat-label"),t.EFF(25,"Address"),t.k0s(),t.nrm(26,"input",13),t.k0s(),t.j41(27,"mat-form-field",8)(28,"mat-label"),t.EFF(29,"Country"),t.k0s(),t.nrm(30,"input",14),t.k0s(),t.j41(31,"button",15),t.EFF(32," Save "),t.k0s()()()()}if(2&s){const r=t.sdS(22);t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(10),t.Y8G("matDatepicker",r),t.R7$(),t.Y8G("for",r),t.R7$(11),t.Y8G("disabled",!o.dataForm.valid)}},dependencies:[y.Vh,y.bZ,y.bU,b.rl,b.nJ,b.yw,U.fg,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})(),W=(()=>{class e{constructor(a,s,o,r,u,c){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=r,this.data=u,this.Ref=c,this.validateControl=l=>this.dataForm?.get(l)?.invalid&&this.dataForm?.get(l)?.touched,this.hasError=(l,p)=>this.dataForm?.get(l)?.hasError(p),this.createData=l=>{this.dataForm.valid&&this.executeDataCreation(l)},this.executeDataCreation=l=>{this.repoService.update(`api/employees/${this.result.id}`,{firstName:l.firstName,lastName:l.lastName,dateOfBirth:l.dateOfBirth,address:l.address,country:l.country}).subscribe(R=>{this.dialogserve.openSuccessDialog("The employee has been updated successfully.").afterClosed().subscribe(G=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},R=>{this.toastr.error(R)})},this.getEmployeetoUpdate=()=>{const p=`api/employees/${this.result.id}`;console.log(p),this.repoService.getData(p).subscribe({next:g=>{this.employee={...g},this.dataForm.patchValue(this.employee)},error:g=>{this.toastr.success(g)}})}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),dateOfBirth:new i.MJ(new Date),address:new i.MJ("",[i.k0.required,i.k0.maxLength(100)]),country:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])}),this.result=this.data,this.getEmployeetoUpdate()}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(E.tw),t.rXU(D),t.rXU(C),t.rXU(f.Vh),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-update-employee"]],decls:33,vars:4,consts:[["picker",""],[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","placeholder","Choose a date of birth","formControlName","dateOfBirth","id","dateOfBirth","readonly","",3,"click","matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","address"],["matInput","","formControlName","country"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(s,o){if(1&s){const r=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Update employee"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.closeModal())}),t.j41(6,"mat-icon",5),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",6)(9,"form",7),t.bIt("ngSubmit",function(){return t.eBV(r),t.Njj(o.createData(o.dataForm.value))}),t.j41(10,"mat-form-field",8)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",9),t.k0s(),t.j41(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",10),t.k0s(),t.j41(18,"mat-form-field",8)(19,"input",11),t.bIt("click",function(){t.eBV(r);const c=t.sdS(22);return t.Njj(c.open())}),t.k0s(),t.nrm(20,"mat-datepicker-toggle",12)(21,"mat-datepicker",null,0),t.k0s(),t.j41(23,"mat-form-field",8)(24,"mat-label"),t.EFF(25,"Address"),t.k0s(),t.nrm(26,"input",13),t.k0s(),t.j41(27,"mat-form-field",8)(28,"mat-label"),t.EFF(29,"Country"),t.k0s(),t.nrm(30,"input",14),t.k0s(),t.j41(31,"button",15),t.EFF(32," Update "),t.k0s()()()()}if(2&s){const r=t.sdS(22);t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(10),t.Y8G("matDatepicker",r),t.R7$(),t.Y8G("for",r),t.R7$(11),t.Y8G("disabled",!o.dataForm.valid)}},dependencies:[y.Vh,y.bZ,y.bU,b.rl,b.nJ,b.yw,U.fg,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();var T=h(8269),I=h(6038);const Z=()=>[4,6,10,20];function K(e,n){1&e&&(t.j41(0,"th",26),t.EFF(1," Action "),t.k0s())}function Q(e,n){if(1&e){const a=t.RV6();t.j41(0,"td",27)(1,"button",28),t.EFF(2," Action "),t.j41(3,"mat-icon"),t.EFF(4,"arrow_drop_down"),t.k0s()(),t.j41(5,"mat-menu",29,0)(7,"button",30),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.redirectToDetails(o.id))}),t.EFF(8," Details "),t.k0s(),t.j41(9,"button",30),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.updateEmployee(o.id))}),t.EFF(10," Edit "),t.k0s(),t.j41(11,"button",30),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.DeleteEmployee(o.id))}),t.EFF(12," Delete "),t.k0s()()()}if(2&e){const a=t.sdS(6);t.R7$(),t.Y8G("matMenuTriggerFor",a)}}function tt(e,n){1&e&&(t.j41(0,"th",31),t.EFF(1," FirstName "),t.k0s())}function et(e,n){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.firstName," ")}}function at(e,n){1&e&&(t.j41(0,"th",31),t.EFF(1," LastName "),t.k0s())}function st(e,n){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.lastName," ")}}function ot(e,n){1&e&&(t.j41(0,"th",31),t.EFF(1," DateOfBirth "),t.k0s())}function it(e,n){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,a.dateOfBirth,"mediumDate")," ")}}function rt(e,n){1&e&&(t.j41(0,"th",31),t.EFF(1," Country "),t.k0s())}function nt(e,n){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.country," ")}}function lt(e,n){1&e&&(t.j41(0,"th",26),t.EFF(1," Type "),t.k0s())}function mt(e,n){1&e&&(t.j41(0,"span",34),t.EFF(1," No Account "),t.k0s())}function ct(e,n){1&e&&(t.j41(0,"span",35),t.EFF(1," Beginner "),t.k0s())}function ut(e,n){1&e&&(t.j41(0,"span",36),t.EFF(1," Advanced "),t.k0s())}function dt(e,n){1&e&&(t.j41(0,"span",34),t.EFF(1," Gold "),t.k0s())}function pt(e,n){1&e&&(t.j41(0,"span",37),t.EFF(1," Platinum "),t.k0s())}function ht(e,n){if(1&e&&(t.j41(0,"td",32),t.DNE(1,mt,2,0,"ng-template",33)(2,ct,2,0,"ng-template",33)(3,ut,2,0,"ng-template",33)(4,dt,2,0,"ng-template",33)(5,pt,2,0,"ng-template",33),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.Y8G("ngIf","0"==a.accountCount),t.R7$(),t.Y8G("ngIf","1"==a.accountCount),t.R7$(),t.Y8G("ngIf","2"==a.accountCount),t.R7$(),t.Y8G("ngIf","3"==a.accountCount),t.R7$(),t.Y8G("ngIf",+a.accountCount>=4)}}function ft(e,n){1&e&&(t.j41(0,"th",26),t.EFF(1," Status "),t.k0s())}function gt(e,n){1&e&&(t.j41(0,"span",35),t.EFF(1," Active "),t.k0s())}function bt(e,n){1&e&&(t.j41(0,"span",34),t.EFF(1," Blocked "),t.k0s())}function Ft(e,n){if(1&e&&(t.j41(0,"td",32),t.DNE(1,gt,2,0,"ng-template",33)(2,bt,2,0,"ng-template",33),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.Y8G("ngIf",1==a.status),t.R7$(),t.Y8G("ngIf",0==a.status)}}function _t(e,n){1&e&&(t.j41(0,"th",26),t.EFF(1," Details "),t.k0s())}function Ct(e,n){1&e&&(t.j41(0,"td",27)(1,"mat-icon",38),t.EFF(2,"remove_red_eye"),t.k0s()())}function kt(e,n){1&e&&t.nrm(0,"tr",39)}function vt(e,n){1&e&&t.nrm(0,"tr",40)}let Rt=(()=>{class e{constructor(a,s,o,r,u,c){var l=this;this.repoService=a,this.router=s,this.toastr=o,this.dialog=r,this.dataService=u,this.dialogserve=c,this.displayedColumns=["action","firstName","lastName","dateOfBirth","country","type","status"],this.dataSource=new d.I6,this.doFilter=p=>{this.dataSource.filter=p.trim().toLocaleLowerCase()},this.redirectToDetails=function(){var p=(0,J.A)(function*(g){l.router.navigate([`/ui-components/employee-details/${g}`])});return function(g){return p.apply(this,arguments)}}(),this.refreshSubscription=this.dataService.refreshTab1$.subscribe(()=>{this.getEmployees()})}ngOnInit(){this.getEmployees()}getEmployees(){this.repoService.getData("api/employees").subscribe(a=>{this.dataSource.data=a},a=>{console.log(a)})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}addEmployee(){this.dialog.open(z,{width:"500px",height:"545px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms"})}updateEmployee(a){this.dialog.open(W,{width:"500px",height:"545px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteEmployee(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the employee ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/employees/${a}`).subscribe(r=>{this.dialogserve.openSuccessDialog("The employee has been deleted successfully.").afterClosed().subscribe(u=>{this.getEmployees()})})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(N.Ix),t.rXU(E.tw),t.rXU(f.bZ),t.rXU(D),t.rXU(C))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-lists"]],viewQuery:function(s,o){if(1&s&&(t.GBs(x.iy,5),t.GBs(S.B4,5)),2&s){let r;t.mGM(r=t.lsd())&&(o.paginator=r.first),t.mGM(r=t.lsd())&&(o.sort=r.first)}},decls:42,vars:6,consts:[["actions","matMenu"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["fxHide.xs",""],[1,"b-t-1"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Search....",3,"keyup"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","firstName"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastName"],["matColumnDef","dateOfBirth"],["matColumnDef","country"],["matColumnDef","type"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","Details"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-flat-button","","color","primary",1,"m-t-8",3,"matMenuTriggerFor"],[1,"cardWithShadow"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell",""],[3,"ngIf"],[1,"bg-light-warning","text-warning","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-accent","text-accent","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-primary","text-primary","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-success","text-success","rounded","f-w-600","p-6","p-y-4","f-s-12"],["color","primary"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Employees"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return o.addEmployee()}),t.j41(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.j41(8,"span",5),t.EFF(9,"Create new employee"),t.k0s()()(),t.j41(10,"mat-card-content",6)(11,"mat-form-field",7)(12,"input",8),t.bIt("keyup",function(u){return o.doFilter(u.target.value)}),t.k0s()(),t.j41(13,"div",9)(14,"table",10),t.qex(15,11),t.DNE(16,K,2,0,"th",12)(17,Q,13,1,"td",13),t.bVm(),t.qex(18,14),t.DNE(19,tt,2,0,"th",15)(20,et,2,1,"td",13),t.bVm(),t.qex(21,16),t.DNE(22,at,2,0,"th",15)(23,st,2,1,"td",13),t.bVm(),t.qex(24,17),t.DNE(25,ot,2,0,"th",15)(26,it,3,4,"td",13),t.bVm(),t.qex(27,18),t.DNE(28,rt,2,0,"th",15)(29,nt,2,1,"td",13),t.bVm(),t.qex(30,19),t.DNE(31,lt,2,0,"th",12)(32,ht,6,5,"td",20),t.bVm(),t.qex(33,21),t.DNE(34,ft,2,0,"th",12)(35,Ft,3,2,"td",20),t.bVm(),t.qex(36,22),t.DNE(37,_t,2,0,"th",12)(38,Ct,3,0,"td",13),t.bVm(),t.DNE(39,kt,1,0,"tr",23)(40,vt,1,0,"tr",24),t.k0s()(),t.nrm(41,"mat-paginator",25),t.k0s()()),2&s&&(t.R7$(14),t.Y8G("dataSource",o.dataSource),t.R7$(25),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSize",4)("pageSizeOptions",t.lJ4(5,Z)))},dependencies:[j.bT,b.rl,U.fg,T.kk,T.fb,T.Cp,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,x.iy,S.B4,S.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,I.Om,j.vh],encapsulation:2})}return e})();var L=h(1351);function jt(e,n){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Please provide a valid email"),t.k0s())}function Et(e,n){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Email is required"),t.k0s())}function Dt(e,n){if(1&e){const a=t.RV6();t.j41(0,"div")(1,"mat-checkbox",15),t.bIt("change",function(o){const r=t.eBV(a).$implicit,u=t.XpG();return t.Njj(u.toggleRoleSelection(o,r.name))}),t.EFF(2),t.k0s()()}if(2&e){const a=n.$implicit,s=t.XpG();t.R7$(),t.Y8G("checked",s.isSelected(a.name)),t.R7$(),t.SpI(" ",a.name," ")}}let Ut=(()=>{class e{constructor(a,s,o,r,u){this.repoService=a,this.dataService=s,this.toastr=o,this.dialogserve=r,this.Ref=u,this.selectedRoles=[],this.validateControl=c=>this.dataForm?.get(c)?.invalid&&this.dataForm?.get(c)?.touched,this.hasError=(c,l)=>this.dataForm?.get(c)?.hasError(l),this.createData=c=>{this.dataForm.valid&&this.executeDataCreation(c)},this.executeDataCreation=c=>{}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),userName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),email:new i.MJ("",[i.k0.required,i.k0.email])}),this.getRoles()}getRoles(){this.repoService.getData("api/roles").subscribe(a=>{this.roles=a},a=>{this.toastr.success(a)})}isSelected(a){return this.selectedRoles.includes(a)}toggleRoleSelection(a,s){a.checked?this.selectedRoles.push(s):this.selectedRoles=this.selectedRoles.filter(o=>o!==s)}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(D),t.rXU(E.tw),t.rXU(C),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-user"]],decls:33,vars:5,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","userName"],["matInput","","type","email","formControlName","email"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"disabled"],[3,"change","checked"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Create user"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"mat-form-field",7)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",9),t.k0s(),t.j41(18,"mat-form-field",7)(19,"mat-label"),t.EFF(20,"User Name"),t.k0s(),t.nrm(21,"input",10),t.k0s(),t.j41(22,"mat-form-field",7)(23,"mat-label"),t.EFF(24,"Email"),t.k0s(),t.nrm(25,"input",11),t.DNE(26,jt,2,0,"mat-error",12)(27,Et,2,0,"mat-error",12),t.k0s(),t.j41(28,"mat-label"),t.EFF(29,"Roles"),t.k0s(),t.DNE(30,Dt,3,2,"div",13),t.j41(31,"button",14),t.EFF(32," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(17),t.Y8G("ngIf",o.validateControl("email")&&o.hasError("email","email")),t.R7$(),t.Y8G("ngIf",o.validateControl("email")&&o.hasError("email","required")),t.R7$(3),t.Y8G("ngForOf",o.roles),t.R7$(),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[j.Sq,j.bT,L.So,b.rl,b.nJ,b.TL,U.fg,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();function Tt(e,n){if(1&e){const a=t.RV6();t.j41(0,"div")(1,"mat-checkbox",14),t.bIt("change",function(o){const r=t.eBV(a).$implicit,u=t.XpG();return t.Njj(u.toggleRoleSelection(o,r.name))}),t.EFF(2),t.k0s()()}if(2&e){const a=n.$implicit,s=t.XpG();t.R7$(),t.Y8G("checked",s.isSelected(a.name)),t.R7$(),t.SpI(" ",a.name," ")}}let St=(()=>{class e{constructor(a,s,o,r,u,c){this.repoService=a,this.dataService=s,this.toastr=o,this.dialogserve=r,this.data=u,this.Ref=c,this.selectedRoles=[],this.validateControl=l=>this.dataForm?.get(l)?.invalid&&this.dataForm?.get(l)?.touched,this.hasError=(l,p)=>this.dataForm?.get(l)?.hasError(p),this.createData=l=>{this.dataForm.valid&&this.executeDataCreation(l)},this.executeDataCreation=l=>{this.repoService.update(`api/users/${this.result.id}`,{firstName:l.firstName,lastName:l.lastName,userName:l.userName,email:l.email,roles:this.selectedRoles}).subscribe(R=>{this.dialogserve.openSuccessDialog("The user has been updated successfully.").afterClosed().subscribe(G=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},R=>{this.toastr.error(R),this.Ref.close([])})},this.getUsertoUpdate=()=>{const p=`api/users/${this.result.id}`;console.log(p),this.repoService.getData(p).subscribe({next:g=>{this.user={...g},this.dataForm.patchValue(this.user),this.selectedRoles=this.user.roles},error:g=>{this.toastr.error(g)}})}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),userName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),email:new i.MJ("",[i.k0.required,i.k0.maxLength(100)])}),this.getRoles(),this.result=this.data,this.getUsertoUpdate()}getRoles(){this.repoService.getData("api/roles").subscribe(a=>{this.roles=a},a=>{this.toastr.error(a)})}toggleRoleSelection(a,s){a.checked?this.selectedRoles.push(s):this.selectedRoles=this.selectedRoles.filter(o=>o!==s)}closeModal(){this.Ref.close([])}isSelected(a){return this.selectedRoles.includes(a)}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(D),t.rXU(E.tw),t.rXU(C),t.rXU(f.Vh),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-update-user"]],decls:31,vars:3,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","userName"],["matInput","","formControlName","email"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"disabled"],[3,"change","checked"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Update user"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"mat-form-field",7)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",9),t.k0s(),t.j41(18,"mat-form-field",7)(19,"mat-label"),t.EFF(20,"User Name"),t.k0s(),t.nrm(21,"input",10),t.k0s(),t.j41(22,"mat-form-field",7)(23,"mat-label"),t.EFF(24,"Email"),t.k0s(),t.nrm(25,"input",11),t.k0s(),t.j41(26,"mat-label"),t.EFF(27,"Roles"),t.k0s(),t.DNE(28,Tt,3,2,"div",12),t.j41(29,"button",13),t.EFF(30," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(19),t.Y8G("ngForOf",o.roles),t.R7$(),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[j.Sq,L.So,b.rl,b.nJ,U.fg,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();function yt(e,n){1&e&&(t.j41(0,"th",24),t.EFF(1," Action "),t.k0s())}function wt(e,n){if(1&e){const a=t.RV6();t.j41(0,"td",25)(1,"button",26),t.EFF(2," Action"),t.j41(3,"mat-icon"),t.EFF(4,"arrow_drop_down"),t.k0s()(),t.j41(5,"mat-menu",27,0)(7,"button",28),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.updateUser(o.id))}),t.EFF(8," Edit "),t.k0s(),t.j41(9,"button",28),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.DeleteUser(o.id))}),t.EFF(10," Delete "),t.k0s()()()}if(2&e){const a=t.sdS(6);t.R7$(),t.Y8G("matMenuTriggerFor",a)}}function Nt(e,n){1&e&&(t.j41(0,"th",29),t.EFF(1," User Name "),t.k0s())}function $t(e,n){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.userName," ")}}function xt(e,n){1&e&&(t.j41(0,"th",29),t.EFF(1," First Name "),t.k0s())}function At(e,n){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.firstName," ")}}function It(e,n){1&e&&(t.j41(0,"th",29),t.EFF(1," Last Name "),t.k0s())}function Gt(e,n){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.lastName," ")}}function Xt(e,n){1&e&&(t.j41(0,"th",24),t.EFF(1," Roles "),t.k0s())}function Bt(e,n){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.roles," ")}}function Lt(e,n){1&e&&(t.j41(0,"th",29),t.EFF(1," Email "),t.k0s())}function Mt(e,n){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.email," ")}}function Vt(e,n){1&e&&(t.j41(0,"th",24),t.EFF(1," Email confirm "),t.k0s())}function Yt(e,n){1&e&&(t.j41(0,"span",32),t.EFF(1," Yes "),t.k0s())}function Jt(e,n){1&e&&(t.j41(0,"span",33),t.EFF(1," No "),t.k0s())}function Ot(e,n){if(1&e&&(t.j41(0,"td",30),t.DNE(1,Yt,2,0,"ng-template",31)(2,Jt,2,0,"ng-template",31),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.Y8G("ngIf","True"==a.emailConfirmed),t.R7$(),t.Y8G("ngIf","False"==a.emailConfirmed)}}function Ht(e,n){1&e&&t.nrm(0,"tr",34)}function Pt(e,n){1&e&&t.nrm(0,"tr",35)}let qt=(()=>{class e{constructor(a,s,o,r){this.repoService=a,this.dialog=s,this.dialogserve=o,this.dataService=r,this.displayedColumns=["action","username","name","surname","roles","email","emailconfirm"],this.dataSource=new d.I6,this.doFilter=u=>{this.dataSource.filter=u.trim().toLocaleLowerCase()},this.refreshSubscription=this.dataService.refreshTab1$.subscribe(()=>{this.getUsers()})}ngOnInit(){this.getUsers()}getUsers(){this.repoService.getData("api/users").subscribe(a=>{this.dataSource.data=a},a=>{console.log(a)})}addUser(){this.dialog.open(Ut,{width:"500px",height:"570px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms"})}updateUser(a){this.dialog.open(St,{width:"500px",height:"567px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteUser(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the user ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/users/${a}`).subscribe(r=>{this.dialogserve.openSuccessDialog("The user has been deleted successfully.").afterClosed().subscribe(u=>{this.getUsers()})})})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(f.bZ),t.rXU(C),t.rXU(D))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-users"]],viewQuery:function(s,o){if(1&s&&(t.GBs(x.iy,5),t.GBs(S.B4,5)),2&s){let r;t.mGM(r=t.lsd())&&(o.paginator=r.first),t.mGM(r=t.lsd())&&(o.sort=r.first)}},decls:38,vars:3,consts:[["actions","matMenu"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["fxHide.xs",""],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Search....",3,"keyup"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","username"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","surname"],["matColumnDef","roles"],["matColumnDef","email"],["matColumnDef","emailconfirm"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-flat-button","","color","primary",1,"m-t-8",3,"matMenuTriggerFor"],[1,"cardWithShadow"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell",""],[3,"ngIf"],[1,"bg-light-accent","text-accent","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-warning","text-warning","rounded","f-w-600","p-6","p-y-4","f-s-12"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Users"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return o.addUser()}),t.j41(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.j41(8,"span",5),t.EFF(9,"Create new user"),t.k0s()()(),t.j41(10,"mat-card-content",6)(11,"div",7)(12,"mat-form-field",8)(13,"input",9),t.bIt("keyup",function(u){return o.doFilter(u.target.value)}),t.k0s()(),t.j41(14,"table",10),t.qex(15,11),t.DNE(16,yt,2,0,"th",12)(17,wt,11,1,"td",13),t.bVm(),t.qex(18,14),t.DNE(19,Nt,2,0,"th",15)(20,$t,2,1,"td",13),t.bVm(),t.qex(21,16),t.DNE(22,xt,2,0,"th",15)(23,At,2,1,"td",13),t.bVm(),t.qex(24,17),t.DNE(25,It,2,0,"th",15)(26,Gt,2,1,"td",13),t.bVm(),t.qex(27,18),t.DNE(28,Xt,2,0,"th",12)(29,Bt,2,1,"td",13),t.bVm(),t.qex(30,19),t.DNE(31,Lt,2,0,"th",15)(32,Mt,2,1,"td",13),t.bVm(),t.qex(33,20),t.DNE(34,Vt,2,0,"th",12)(35,Ot,3,2,"td",21),t.bVm(),t.DNE(36,Ht,1,0,"tr",22)(37,Pt,1,0,"tr",23),t.k0s()()()()),2&s&&(t.R7$(14),t.Y8G("dataSource",o.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns))},dependencies:[j.bT,b.rl,U.fg,T.kk,T.fb,T.Cp,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,S.B4,S.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,I.Om],encapsulation:2})}return e})(),zt=(()=>{class e{constructor(a,s,o,r,u,c){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=r,this.data=u,this.Ref=c,this.validateControl=l=>this.dataForm?.get(l)?.invalid&&this.dataForm?.get(l)?.touched,this.hasError=(l,p)=>this.dataForm?.get(l)?.hasError(p),this.createData=l=>{this.dataForm.valid&&this.executeDataCreation(l)},this.executeDataCreation=l=>{this.repoService.update(`api/roles/${this.result.id}`,{name:l.name}).subscribe(R=>{this.dialogserve.openSuccessDialog("The role has been updated successfully.").afterClosed().subscribe(G=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},R=>{this.toastr.error(R),this.Ref.close([])})},this.getRoletoUpdate=()=>{const p=`api/roles/${this.result.id}`;console.log(p),this.repoService.getData(p).subscribe({next:g=>{this.role={...g},this.dataForm.patchValue(this.role)},error:g=>{this.toastr.success(g)}})}}ngOnInit(){this.dataForm=new i.gE({name:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])}),this.result=this.data,this.getRoletoUpdate()}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(E.tw),t.rXU(D),t.rXU(C),t.rXU(f.Vh),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-update-role"]],decls:16,vars:2,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","name"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Update role"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"Role Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"button",9),t.EFF(15," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(5),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[b.rl,b.nJ,U.fg,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})(),Wt=(()=>{class e{constructor(a,s,o,r,u){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=r,this.Ref=u,this.validateControl=c=>this.dataForm?.get(c)?.invalid&&this.dataForm?.get(c)?.touched,this.hasError=(c,l)=>this.dataForm?.get(c)?.hasError(l),this.createData=c=>{this.dataForm.valid&&this.executeDataCreation(c)},this.executeDataCreation=c=>{this.repoService.create("api/roles",{name:c.name}).subscribe(g=>{this.dialogserve.openSuccessDialog("The role has been added successfully.").afterClosed().subscribe(v=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},g=>{this.toastr.error(g),this.Ref.close([])})}}ngOnInit(){this.dataForm=new i.gE({name:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])})}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(E.tw),t.rXU(D),t.rXU(C),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-role"]],decls:16,vars:2,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","name"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Create role"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"Role Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"button",9),t.EFF(15," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(5),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[b.rl,b.nJ,U.fg,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();function Zt(e,n){1&e&&(t.j41(0,"th",15),t.EFF(1," Action "),t.k0s())}function Kt(e,n){if(1&e){const a=t.RV6();t.j41(0,"td",16)(1,"button",17),t.EFF(2," Action "),t.j41(3,"mat-icon"),t.EFF(4,"arrow_drop_down"),t.k0s()(),t.j41(5,"mat-menu",18,0)(7,"button",19),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.UpdateRole(o.id))}),t.EFF(8," Edit "),t.k0s(),t.j41(9,"button",19),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.DeleteRole(o.id))}),t.EFF(10," Delete "),t.k0s()()()}if(2&e){const a=t.sdS(6);t.R7$(),t.Y8G("matMenuTriggerFor",a)}}function Qt(e,n){1&e&&(t.j41(0,"th",15),t.EFF(1," Role Name "),t.k0s())}function te(e,n){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",a.name," ")}}function ee(e,n){1&e&&(t.j41(0,"th",15),t.EFF(1," Creation time "),t.k0s())}function ae(e,n){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,a.dateCreated,"medium")," ")}}function se(e,n){1&e&&t.nrm(0,"tr",20)}function oe(e,n){1&e&&t.nrm(0,"tr",21)}let ie=(()=>{class e{constructor(a,s,o,r,u){this.repoService=a,this.dialog=s,this.toastr=o,this.dataService=r,this.dialogserve=u,this.displayedColumns=["action","role","date"],this.dataSource=new d.I6,this.refreshSubscription=this.dataService.refreshTab1$.subscribe(()=>{this.getRoles()})}ngOnInit(){this.getRoles()}getRoles(){this.repoService.getData("api/roles").subscribe(a=>{this.dataSource.data=a},a=>{console.log(a)})}addRole(){this.dialog.open(Wt,{width:"500px",height:"232px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms"})}UpdateRole(a){this.dialog.open(zt,{width:"500px",height:"232px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteRole(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the role ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/roles/${a}`).subscribe(r=>{this.dialogserve.openSuccessDialog("The role has been deleted successfully.").afterClosed().subscribe(u=>{this.getRoles()})})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(f.bZ),t.rXU(E.tw),t.rXU(D),t.rXU(C))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-roles"]],decls:23,vars:3,consts:[["actions","matMenu"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-flat-button","","color","primary",1,"m-t-8",3,"matMenuTriggerFor"],[1,"cardWithShadow"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"User roles"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return o.addRole()}),t.j41(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.EFF(8,"Create new role "),t.k0s()(),t.j41(9,"mat-card-content",5)(10,"div",6)(11,"table",7),t.qex(12,8),t.DNE(13,Zt,2,0,"th",9)(14,Kt,11,1,"td",10),t.bVm(),t.qex(15,11),t.DNE(16,Qt,2,0,"th",9)(17,te,2,1,"td",10),t.bVm(),t.qex(18,12),t.DNE(19,ee,2,0,"th",9)(20,ae,3,4,"td",10),t.bVm(),t.DNE(21,se,1,0,"tr",13)(22,oe,1,0,"tr",14),t.k0s()()()()),2&s&&(t.R7$(11),t.Y8G("dataSource",o.dataSource),t.R7$(10),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns))},dependencies:[T.kk,T.fb,T.Cp,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,j.vh],encapsulation:2})}return e})(),re=(()=>{class e{constructor(a,s,o,r,u,c){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=r,this.data=u,this.Ref=c,this.validateControl=l=>this.dataForm?.get(l)?.invalid&&this.dataForm?.get(l)?.touched,this.hasError=(l,p)=>this.dataForm?.get(l)?.hasError(p),this.createData=l=>{this.dataForm.valid&&this.executeDataCreation(l)},this.executeDataCreation=l=>{this.repoService.create(`api/employees/${this.result.id}/accounts`,{accountType:l.accountType}).subscribe(R=>{this.dialogserve.openSuccessDialog("The account has been added successfully.").afterClosed().subscribe(G=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},R=>{this.toastr.error(R)})}}ngOnInit(){this.dataForm=new i.gE({accountType:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])}),this.result=this.data}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(E.tw),t.rXU(D),t.rXU(C),t.rXU(f.Vh),t.rXU(f.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-account"]],decls:16,vars:2,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","accountType"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Create Account"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"Account type"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"button",9),t.EFF(15," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(5),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[b.rl,b.nJ,U.fg,m.RN,m.m2,m.MM,m.dh,F.$z,k.An,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();var $=h(2608);function ne(e,n){if(1&e){const a=t.RV6();t.j41(0,"div",13)(1,"mat-card",7)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4),t.k0s()(),t.j41(5,"mat-card-content",4)(6,"mat-list")(7,"mat-list-item")(8,"span",8),t.EFF(9,"Created"),t.k0s(),t.j41(10,"span",9),t.EFF(11),t.nI1(12,"date"),t.k0s()()(),t.j41(13,"button",14),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.DeleteEmployee(o.id))}),t.EFF(14," Delete "),t.k0s()()()()}if(2&e){const a=n.$implicit;t.R7$(4),t.SpI("Account: ",a.accountType,""),t.R7$(7),t.JRh(t.i5U(12,2,a.dateCreated,"medium"))}}const le=[{path:"",children:[{path:"lists",component:Rt},{path:"users",component:qt},{path:"roles",component:ie},{path:"about",component:(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-about"]],decls:6,vars:0,consts:[[1,"cardWithShadow"],[1,"mat-body-1"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-content")(2,"mat-card-title"),t.EFF(3,"\u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043a\u043b\u0456\u0454\u043d\u0442-\u0441\u0435\u0440\u0432\u0435\u0440"),t.k0s(),t.j41(4,"mat-card-subtitle",1),t.EFF(5,' \u0417\u0430\u0442\u043e\u0441\u0443\u043d\u043e\u043a \u0437\u0440\u043e\u0431\u043b\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u043e\u0457 \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0456\u043d\u0438 "\u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043a\u043b\u0456\u0454\u043d\u0442-\u0441\u0435\u0440\u0432\u0435\u0440" \u0414\u0437\u0438\u0441\u044e\u043a\u043e\u043c \u042f\u0440\u043e\u0441\u043b\u0430\u0432\u043e\u043c. '),t.k0s()()())},dependencies:[m.RN,m.m2,m.Lc,m.dh],encapsulation:2})}return e})()},{path:"employee-details/:id",component:(()=>{class e{constructor(a,s,o,r,u){this.repoService=a,this.router=s,this.dialog=o,this.dialogserve=r,this.activeRoute=u}ngOnInit(){this.getEmployee(),this.getEmployeeAccount()}getEmployee(){this.repoService.getData(`api/employees/${this.activeRoute.snapshot.params.id}`).subscribe(s=>{this.employee=s},s=>{this.dialogserve.openErrorDialog(s).afterClosed().subscribe(o=>{this.router.navigate(["/ui-components/lists"])})})}getEmployeeAccount(){this.repoService.getData(`api/employees/${this.activeRoute.snapshot.params.id}/accounts`).subscribe(s=>{this.accounts=s},s=>{})}addAccount(a){this.dialog.open(re,{width:"500px",height:"270px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteEmployee(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the account ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/employees/${this.activeRoute.snapshot.params.id}/accounts/${a}`).subscribe(u=>{this.getEmployee()})})}close(){this.router.navigate(["/ui-components/lists"])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(N.Ix),t.rXU(f.bZ),t.rXU(C),t.rXU(N.nX))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-details"]],decls:60,vars:9,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"row"],[1,"col-lg-6"],[1,"b-1","shadow-none"],["matListItemTitle","",1,"f-s-16","f-w-600"],["matListItemLine","",1,"mat-body-1"],[1,"col-12"],["fxHide.xs",""],["class","col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-lg-4"],["mat-flat-button","","color","warn",1,"m-t-8",3,"click"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Employee details"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.close()}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s(),t.EFF(8," Close "),t.k0s()(),t.j41(9,"mat-card-content",4)(10,"div",5)(11,"div",6)(12,"mat-card",7)(13,"mat-card-header")(14,"mat-card-title"),t.EFF(15,"Basic information"),t.k0s()(),t.j41(16,"mat-card-content",4)(17,"mat-list")(18,"mat-list-item")(19,"span",8),t.EFF(20,"Full Name"),t.k0s(),t.j41(21,"span",9),t.EFF(22),t.k0s()(),t.j41(23,"mat-list-item")(24,"span",8),t.EFF(25,"Date of birth"),t.k0s(),t.j41(26,"span",9),t.EFF(27),t.nI1(28,"date"),t.k0s()()()()()(),t.j41(29,"div",6)(30,"mat-card",7)(31,"mat-card-header")(32,"mat-card-title"),t.EFF(33,"Address"),t.k0s()(),t.j41(34,"mat-card-content",4)(35,"mat-list")(36,"mat-list-item")(37,"span",8),t.EFF(38,"Resident address"),t.k0s(),t.j41(39,"span",9),t.EFF(40),t.k0s()(),t.j41(41,"mat-list-item")(42,"span",8),t.EFF(43,"Country"),t.k0s(),t.j41(44,"span",9),t.EFF(45),t.k0s()()()()()(),t.j41(46,"div",10)(47,"mat-card",7)(48,"mat-card-header")(49,"mat-card-title"),t.EFF(50),t.k0s(),t.nrm(51,"span",2),t.j41(52,"button",3),t.bIt("click",function(){return o.addAccount(o.employee.id)}),t.j41(53,"mat-icon"),t.EFF(54,"add"),t.k0s(),t.j41(55,"span",11),t.EFF(56,"Create new account "),t.k0s()()(),t.j41(57,"mat-card-content",4)(58,"div",5),t.DNE(59,ne,15,5,"div",12),t.k0s()()()()()()()),2&s&&(t.R7$(22),t.Lme("",null==o.employee?null:o.employee.firstName," ",null==o.employee?null:o.employee.lastName,""),t.R7$(5),t.JRh(t.bMT(28,7,null==o.employee?null:o.employee.dateOfBirth)),t.R7$(13),t.JRh(null==o.employee?null:o.employee.address),t.R7$(5),t.JRh(null==o.employee?null:o.employee.country),t.R7$(5),t.SpI("Accounts (",null==o.employee?null:o.employee.accountCount,")"),t.R7$(9),t.Y8G("ngForOf",o.accounts))},dependencies:[j.Sq,m.RN,m.m2,m.MM,m.dh,$.jt,$.YE,$.C_,$.yE,F.$z,k.An,I.Om,j.vh],encapsulation:2})}return e})()}]}];var me=h(5230);let ce=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.$C({type:e});static#a=this.\u0275inj=t.G2t({imports:[j.MD,N.iI.forChild(le),M.G,i.YN,i.X1,V.X.pick(Y),me.WX,E._B.forRoot({timeOut:3e3,positionClass:"toast-top-right",preventDuplicates:!0,progressBar:!0,closeButton:!0})]})}return e})()}}]);